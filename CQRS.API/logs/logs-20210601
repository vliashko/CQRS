{"@t":"2021-06-01T09:16:48.2091214Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:17:19.3620865Z","@mt":"Executing command {@Command}","Command":{"Email":"vladimir.lyashko02@gmail.com","Name":"vlyashko02","Id":"8bf4d611-0c2c-4e67-b930-53edb23baed1","$type":"RegisterCustomerCommand"},"Context":"Command:8bf4d611-0c2c-4e67-b930-53edb23baed1","CorrelationId":"aec81e72-7979-4773-9d3c-f694c571e797"}
{"@t":"2021-06-01T09:17:19.4281782Z","@mt":"Command processing failed","@l":"Error","@x":"System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.\r\n ---> System.InvalidOperationException: The navigation property '_prices' cannot be added to the entity type 'Product' because there is no corresponding CLR property on the underlying type and navigations properties cannot be added to shadow state.\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigations(Nullable`1 navigationToPrincipal, Nullable`1 navigationToDependent, EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigations(Nullable`1 navigationToPrincipal, Nullable`1 navigationToDependent, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigation(String name, Boolean pointsToPrincipal, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasRelationship(EntityType targetEntityType, Nullable`1 navigationToTarget, Nullable`1 inverseNavigation, Boolean setTargetAsPrincipal, ConfigurationSource configurationSource, Nullable`1 required)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasOwnership(TypeIdentity& targetEntityType, MemberIdentity navigation, Nullable`1 inverse, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasOwnership(Type targetEntityType, String navigationName, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.OwnsManyBuilder[TRelatedEntity](MemberIdentity navigation)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.OwnsMany[TRelatedEntity](String navigationName, Action`1 buildAction)\r\n   at CQRS.Infrastructure.Domain.Products.ProductEntityTypeConfiguration.Configure(EntityTypeBuilder`1 builder) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Domain\\Products\\ProductEntityTypeConfiguration.cs:line 16\r\n   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfiguration[TEntity](IEntityTypeConfiguration`1 configuration)\r\n   --- End of inner exception stack trace ---\r\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\r\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfigurationsFromAssembly(Assembly assembly, Func`2 predicate)\r\n   at CQRS.Infrastructure.Database.OrdersContext.OnModelCreating(ModelBuilder modelBuilder) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Database\\OrdersContext.cs:line 27\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)\r\n   at Microsoft.EntityFrameworkCore.DbContext.AddAsync[TEntity](TEntity entity, CancellationToken cancellationToken)\r\n   at CQRS.Infrastructure.Domain.Customers.CustomerRepository.AddAsync(Customer customer) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Domain\\Customers\\CustomerRepository.cs:line 22\r\n   at CQRS.Application.Customers.RegisterCustomer.RegisterCustomerCommandHandler.Handle(RegisterCustomerCommand request, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Application\\Customers\\RegisterCustomer\\RegisterCustomerCommandHandler.cs:line 30\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:8bf4d611-0c2c-4e67-b930-53edb23baed1","CorrelationId":"aec81e72-7979-4773-9d3c-f694c571e797"}
{"@t":"2021-06-01T09:23:43.4917756Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:23:49.3530533Z","@mt":"Executing command {@Command}","Command":{"Email":"vladimir.lyashko02@gmail.com","Name":"vlyashko02","Id":"f21b9f2e-3e80-4538-ba98-ca30dc5f2d48","$type":"RegisterCustomerCommand"},"Context":"Command:f21b9f2e-3e80-4538-ba98-ca30dc5f2d48","CorrelationId":"f5b48822-c1b0-4ff6-9e99-2845565838b2"}
{"@t":"2021-06-01T09:23:49.4203131Z","@mt":"Command processing failed","@l":"Error","@x":"System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.\r\n ---> System.InvalidOperationException: The navigation property '_prices' cannot be added to the entity type 'Product' because there is no corresponding CLR property on the underlying type and navigations properties cannot be added to shadow state.\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigations(Nullable`1 navigationToPrincipal, Nullable`1 navigationToDependent, EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigations(Nullable`1 navigationToPrincipal, Nullable`1 navigationToDependent, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigation(String name, Boolean pointsToPrincipal, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasRelationship(EntityType targetEntityType, Nullable`1 navigationToTarget, Nullable`1 inverseNavigation, Boolean setTargetAsPrincipal, ConfigurationSource configurationSource, Nullable`1 required)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasOwnership(TypeIdentity& targetEntityType, MemberIdentity navigation, Nullable`1 inverse, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasOwnership(Type targetEntityType, String navigationName, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.OwnsManyBuilder[TRelatedEntity](MemberIdentity navigation)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.OwnsMany[TRelatedEntity](String navigationName, Action`1 buildAction)\r\n   at CQRS.Infrastructure.Domain.Products.ProductEntityTypeConfiguration.Configure(EntityTypeBuilder`1 builder) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Domain\\Products\\ProductEntityTypeConfiguration.cs:line 16\r\n   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfiguration[TEntity](IEntityTypeConfiguration`1 configuration)\r\n   --- End of inner exception stack trace ---\r\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\r\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfigurationsFromAssembly(Assembly assembly, Func`2 predicate)\r\n   at CQRS.Infrastructure.Database.OrdersContext.OnModelCreating(ModelBuilder modelBuilder) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Database\\OrdersContext.cs:line 27\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)\r\n   at Microsoft.EntityFrameworkCore.DbContext.AddAsync[TEntity](TEntity entity, CancellationToken cancellationToken)\r\n   at CQRS.Infrastructure.Domain.Customers.CustomerRepository.AddAsync(Customer customer) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Domain\\Customers\\CustomerRepository.cs:line 22\r\n   at CQRS.Application.Customers.RegisterCustomer.RegisterCustomerCommandHandler.Handle(RegisterCustomerCommand request, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Application\\Customers\\RegisterCustomer\\RegisterCustomerCommandHandler.cs:line 30\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:f21b9f2e-3e80-4538-ba98-ca30dc5f2d48","CorrelationId":"f5b48822-c1b0-4ff6-9e99-2845565838b2"}
{"@t":"2021-06-01T09:25:59.5013569Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:27:28.4735149Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:27:31.3486052Z","@mt":"Executing command {@Command}","Command":{"Email":"vladimir.lyashko02@gmail.com","Name":"vlyashko02","Id":"f779205e-c6cc-4683-bf2e-d05371716b8a","$type":"RegisterCustomerCommand"},"Context":"Command:f779205e-c6cc-4683-bf2e-d05371716b8a","CorrelationId":"7ece5729-c1cf-445d-882a-6fad80dec9ff"}
{"@t":"2021-06-01T09:27:31.4152041Z","@mt":"Command processing failed","@l":"Error","@x":"System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation.\r\n ---> System.InvalidOperationException: The navigation property '_prices' cannot be added to the entity type 'Product' because there is no corresponding CLR property on the underlying type and navigations properties cannot be added to shadow state.\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigations(Nullable`1 navigationToPrincipal, Nullable`1 navigationToDependent, EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigations(Nullable`1 navigationToPrincipal, Nullable`1 navigationToDependent, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalRelationshipBuilder.HasNavigation(String name, Boolean pointsToPrincipal, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasRelationship(EntityType targetEntityType, Nullable`1 navigationToTarget, Nullable`1 inverseNavigation, Boolean setTargetAsPrincipal, ConfigurationSource configurationSource, Nullable`1 required)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasOwnership(TypeIdentity& targetEntityType, MemberIdentity navigation, Nullable`1 inverse, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Internal.InternalEntityTypeBuilder.HasOwnership(Type targetEntityType, String navigationName, ConfigurationSource configurationSource)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.OwnsManyBuilder[TRelatedEntity](MemberIdentity navigation)\r\n   at Microsoft.EntityFrameworkCore.Metadata.Builders.EntityTypeBuilder`1.OwnsMany[TRelatedEntity](String navigationName, Action`1 buildAction)\r\n   at CQRS.Infrastructure.Domain.Products.ProductEntityTypeConfiguration.Configure(EntityTypeBuilder`1 builder) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Domain\\Products\\ProductEntityTypeConfiguration.cs:line 16\r\n   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfiguration[TEntity](IEntityTypeConfiguration`1 configuration)\r\n   --- End of inner exception stack trace ---\r\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\r\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\r\n   at Microsoft.EntityFrameworkCore.ModelBuilder.ApplyConfigurationsFromAssembly(Assembly assembly, Func`2 predicate)\r\n   at CQRS.Infrastructure.Database.OrdersContext.OnModelCreating(ModelBuilder modelBuilder) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Database\\OrdersContext.cs:line 27\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelCustomizer.Customize(ModelBuilder modelBuilder, DbContext context)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.CreateModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, IConventionSetBuilder conventionSetBuilder)\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel()\r\n   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()\r\n   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__7_3(IServiceProvider p)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)\r\n   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()\r\n   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()\r\n   at Microsoft.EntityFrameworkCore.DbContext.EntryWithoutDetectChanges[TEntity](TEntity entity)\r\n   at Microsoft.EntityFrameworkCore.DbContext.AddAsync[TEntity](TEntity entity, CancellationToken cancellationToken)\r\n   at CQRS.Infrastructure.Domain.Customers.CustomerRepository.AddAsync(Customer customer) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Domain\\Customers\\CustomerRepository.cs:line 22\r\n   at CQRS.Application.Customers.RegisterCustomer.RegisterCustomerCommandHandler.Handle(RegisterCustomerCommand request, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Application\\Customers\\RegisterCustomer\\RegisterCustomerCommandHandler.cs:line 30\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\sample-dotnet-core-cqrs-api-master\\src\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:f779205e-c6cc-4683-bf2e-d05371716b8a","CorrelationId":"7ece5729-c1cf-445d-882a-6fad80dec9ff"}
{"@t":"2021-06-01T09:32:22.1113116Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:32:25.7704382Z","@mt":"Executing command {@Command}","Command":{"Email":"vladimir.lyashko02@gmail.com","Name":"vlyashko02","Id":"ca68c169-34a8-4f71-9889-ee1ea347c7c0","$type":"RegisterCustomerCommand"},"Context":"Command:ca68c169-34a8-4f71-9889-ee1ea347c7c0","CorrelationId":"285aede8-7a8c-43f3-9e89-6e3054bc47fe"}
{"@t":"2021-06-01T09:32:26.9341069Z","@mt":"Command processed successful, result {Result}","Result":"CQRS.Application.Customers.CustomerDto","Context":"Command:ca68c169-34a8-4f71-9889-ee1ea347c7c0","CorrelationId":"285aede8-7a8c-43f3-9e89-6e3054bc47fe"}
{"@t":"2021-06-01T09:32:45.0261435Z","@mt":"Executing command {@Command}","Command":{"CustomerId":{"Value":"ac8744f7-c9c1-458c-827f-9a7709372c88","$type":"CustomerId"},"Id":"a902c73f-d2f3-43d7-ba4d-d7dce0f2cba8","$type":"MarkCustomerAsWelcomedCommand"},"Context":"Command:a902c73f-d2f3-43d7-ba4d-d7dce0f2cba8"}
{"@t":"2021-06-01T09:32:45.2545646Z","@mt":"Command processed successful, result {Result}","Result":"()","Context":"Command:a902c73f-d2f3-43d7-ba4d-d7dce0f2cba8"}
{"@t":"2021-06-01T09:45:12.0311971Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:46:05.1418012Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:49:03.3517191Z","@mt":"Logger configured"}
{"@t":"2021-06-01T09:49:08.6621581Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"USD","Id":"7aaa22ad-2d56-4c99-b44a-dd91ecbfced9","$type":"PlaceCustomerOrderCommand"},"Context":"Command:7aaa22ad-2d56-4c99-b44a-dd91ecbfced9","CorrelationId":"b291d7d6-e67e-423a-8878-cd577aac88b4"}
{"@t":"2021-06-01T09:49:09.9037437Z","@mt":"Command processed successful, result {Result}","Result":"024dcff2-0026-4cfd-b0cc-ea5eee49b5bb","Context":"Command:7aaa22ad-2d56-4c99-b44a-dd91ecbfced9","CorrelationId":"b291d7d6-e67e-423a-8878-cd577aac88b4"}
{"@t":"2021-06-01T09:49:30.0312802Z","@mt":"Executing command {@Command}","Command":{"PaymentId":{"Value":"9290d03f-2a84-4474-971a-805109e9985b","$type":"PaymentId"},"Id":"f05ad668-2480-4be4-9719-e7b573de4f36","$type":"SendEmailAfterPaymentCommand"},"Context":"Command:f05ad668-2480-4be4-9719-e7b573de4f36"}
{"@t":"2021-06-01T09:49:30.0736952Z","@mt":"Command processed successful, result {Result}","Result":"()","Context":"Command:f05ad668-2480-4be4-9719-e7b573de4f36"}
{"@t":"2021-06-01T10:12:35.8856899Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:19:40.2869187Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:20:32.2327419Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:25:44.5059030Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:30:25.8339448Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:46:11.0644284Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:46:54.6913416Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:49:03.1084320Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:51:05.3422877Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:51:08.0615976Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"3a768f2d-a82f-432b-8771-d767515e7735","$type":"PlaceCustomerOrderCommand"},"Context":"Command:3a768f2d-a82f-432b-8771-d767515e7735","CorrelationId":"6b306eb7-3cb1-44dc-a9e4-57e53fa0a4ac"}
{"@t":"2021-06-01T10:53:56.2526255Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:54:00.2006903Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"9c1cacce-7bad-4693-bbd5-817d789d5a97","$type":"PlaceCustomerOrderCommand"},"Context":"Command:9c1cacce-7bad-4693-bbd5-817d789d5a97","CorrelationId":"79e7e5b2-3961-4599-8598-d3d527fb3072"}
{"@t":"2021-06-01T10:55:05.1537027Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:55:14.2135394Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"d72fce30-34aa-4c5e-b65c-cadf780d04a8","$type":"PlaceCustomerOrderCommand"},"Context":"Command:d72fce30-34aa-4c5e-b65c-cadf780d04a8","CorrelationId":"33f6cb28-505e-4ab3-8610-7679a35ab5d8"}
{"@t":"2021-06-01T10:55:16.0349109Z","@mt":"Command processing failed","@l":"Error","@x":"Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 'string' does not contain a definition for 'rates'\r\n   at CallSite.Target(Closure , CallSite , Object )\r\n   at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRatesFromExternalApi() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 42\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRates() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 29\r\n   at CQRS.Application.Orders.PlaceCustomerOrder.PlaceCustomerOrderCommandHandler.Handle(PlaceCustomerOrderCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Orders\\PlaceCustomerOrder\\PlaceCustomerOrderCommandHandler.cs:line 39\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:d72fce30-34aa-4c5e-b65c-cadf780d04a8","CorrelationId":"33f6cb28-505e-4ab3-8610-7679a35ab5d8"}
{"@t":"2021-06-01T10:55:26.5480620Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:55:31.8838900Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"a993ff70-f8af-453c-97e7-f04fc5b48394","$type":"PlaceCustomerOrderCommand"},"Context":"Command:a993ff70-f8af-453c-97e7-f04fc5b48394","CorrelationId":"0a41ee5c-9f16-42f3-8789-189d37820528"}
{"@t":"2021-06-01T10:56:53.5438087Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:56:59.3918060Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"c07d6db1-363f-47ec-abe3-cea745af28d4","$type":"PlaceCustomerOrderCommand"},"Context":"Command:c07d6db1-363f-47ec-abe3-cea745af28d4","CorrelationId":"9ce8afcd-8da4-4bac-9fef-2ead33d402f4"}
{"@t":"2021-06-01T10:57:11.5287818Z","@mt":"Command processing failed","@l":"Error","@x":"Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 'string' does not contain a definition for 'rates'\r\n   at CallSite.Target(Closure , CallSite , Object )\r\n   at System.Dynamic.UpdateDelegates.UpdateAndExecute1[T0,TRet](CallSite site, T0 arg0)\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRatesFromExternalApi() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 42\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRates() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 29\r\n   at CQRS.Application.Orders.PlaceCustomerOrder.PlaceCustomerOrderCommandHandler.Handle(PlaceCustomerOrderCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Orders\\PlaceCustomerOrder\\PlaceCustomerOrderCommandHandler.cs:line 39\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:c07d6db1-363f-47ec-abe3-cea745af28d4","CorrelationId":"9ce8afcd-8da4-4bac-9fef-2ead33d402f4"}
{"@t":"2021-06-01T10:57:55.9561357Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:57:59.4680436Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"b5663109-dac2-4b32-a275-613f4413db58","$type":"PlaceCustomerOrderCommand"},"Context":"Command:b5663109-dac2-4b32-a275-613f4413db58","CorrelationId":"1cfeb21e-1b5e-4763-8d34-b0bb0cc4fada"}
{"@t":"2021-06-01T10:58:28.7816954Z","@mt":"Logger configured"}
{"@t":"2021-06-01T10:58:33.0429335Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"91328c66-e81e-41db-82e6-35339f47efbb","$type":"PlaceCustomerOrderCommand"},"Context":"Command:91328c66-e81e-41db-82e6-35339f47efbb","CorrelationId":"3575971f-5651-4649-b1e7-4b63cf1c0829"}
{"@t":"2021-06-01T11:14:11.6446262Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:14:15.6479319Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"812b10d3-d6c0-460d-8265-d830ded7f448","$type":"PlaceCustomerOrderCommand"},"Context":"Command:812b10d3-d6c0-460d-8265-d830ded7f448","CorrelationId":"1da57645-8a9e-403e-befa-1eeb10b72ea7"}
{"@t":"2021-06-01T11:18:34.4610852Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:18:36.9032312Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"ba17e585-170d-4dee-aa24-42eb414eb89a","$type":"PlaceCustomerOrderCommand"},"Context":"Command:ba17e585-170d-4dee-aa24-42eb414eb89a","CorrelationId":"e26772c5-ec59-474d-b3c5-3ba6dd0cff8f"}
{"@t":"2021-06-01T11:19:15.8867057Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:19:18.7208444Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"758854e3-7971-4ce2-b302-5462c981965e","$type":"PlaceCustomerOrderCommand"},"Context":"Command:758854e3-7971-4ce2-b302-5462c981965e","CorrelationId":"2f6d492b-8733-4773-a434-3ee8e7ae84f7"}
{"@t":"2021-06-01T11:21:15.4220865Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:21:21.2248023Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"f7698118-3728-446b-bb4d-a406a8990c0e","$type":"PlaceCustomerOrderCommand"},"Context":"Command:f7698118-3728-446b-bb4d-a406a8990c0e","CorrelationId":"eb563219-0c1c-455d-9981-c4dfdbbee95e"}
{"@t":"2021-06-01T11:22:14.2452234Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:22:16.6708471Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"19ba8dc3-ad65-45f8-a888-fe1bd625a837","$type":"PlaceCustomerOrderCommand"},"Context":"Command:19ba8dc3-ad65-45f8-a888-fe1bd625a837","CorrelationId":"dc66c86f-9cf4-4a34-853b-0f7ce0629c4f"}
{"@t":"2021-06-01T11:22:51.3778997Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:22:53.8668159Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"66184394-7e7a-478e-b868-4d88b67703a3","$type":"PlaceCustomerOrderCommand"},"Context":"Command:66184394-7e7a-478e-b868-4d88b67703a3","CorrelationId":"dcd09f6e-dac1-4923-900e-a0ba66a69145"}
{"@t":"2021-06-01T11:23:54.0721507Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:23:56.2965492Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"e52a9524-5817-40bb-b136-508da58072ec","$type":"PlaceCustomerOrderCommand"},"Context":"Command:e52a9524-5817-40bb-b136-508da58072ec","CorrelationId":"e2d89391-5804-4040-a59d-84077b897138"}
{"@t":"2021-06-01T11:37:05.2800866Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:37:15.7366971Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"923e1393-d524-4c68-b570-9bbd01dccbcc","$type":"PlaceCustomerOrderCommand"},"Context":"Command:923e1393-d524-4c68-b570-9bbd01dccbcc","CorrelationId":"ae37b06a-85ba-499c-9755-01960bcd3fd4"}
{"@t":"2021-06-01T11:37:54.8938991Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:37:56.6709365Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"d7ad2825-6920-4478-8795-cb5b5f0aeadd","$type":"PlaceCustomerOrderCommand"},"Context":"Command:d7ad2825-6920-4478-8795-cb5b5f0aeadd","CorrelationId":"663c86bf-c9b3-4e28-bf9b-945896d428a6"}
{"@t":"2021-06-01T11:39:25.2781358Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:39:30.8814682Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"9d988349-67bc-4bc0-ab42-699f10ace190","$type":"PlaceCustomerOrderCommand"},"Context":"Command:9d988349-67bc-4bc0-ab42-699f10ace190","CorrelationId":"b1b0ba2a-6107-4e25-ba30-ac84995ff2bb"}
{"@t":"2021-06-01T11:39:41.8368944Z","@mt":"Command processing failed","@l":"Error","@x":"System.FormatException: Input string was not in a correct format.\r\n   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, TypeCode type)\r\n   at System.Number.ParseDecimal(ReadOnlySpan`1 value, NumberStyles styles, NumberFormatInfo info)\r\n   at System.Decimal.Parse(String s)\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRatesFromExternalApi() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 49\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRates() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 30\r\n   at CQRS.Application.Orders.PlaceCustomerOrder.PlaceCustomerOrderCommandHandler.Handle(PlaceCustomerOrderCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Orders\\PlaceCustomerOrder\\PlaceCustomerOrderCommandHandler.cs:line 39\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:9d988349-67bc-4bc0-ab42-699f10ace190","CorrelationId":"b1b0ba2a-6107-4e25-ba30-ac84995ff2bb"}
{"@t":"2021-06-01T11:40:11.1986710Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:40:13.3934244Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"7810a8dd-d934-4f1f-b5d3-dbe319f742b1","$type":"PlaceCustomerOrderCommand"},"Context":"Command:7810a8dd-d934-4f1f-b5d3-dbe319f742b1","CorrelationId":"f6c1420c-894f-4b66-8311-68e191b21594"}
{"@t":"2021-06-01T11:40:18.8257131Z","@mt":"Command processing failed","@l":"Error","@x":"System.FormatException: Input string was not in a correct format.\r\n   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, TypeCode type)\r\n   at System.Number.ParseDecimal(ReadOnlySpan`1 value, NumberStyles styles, NumberFormatInfo info)\r\n   at System.Decimal.Parse(String s)\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRatesFromExternalApi() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 49\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRates() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 30\r\n   at CQRS.Application.Orders.PlaceCustomerOrder.PlaceCustomerOrderCommandHandler.Handle(PlaceCustomerOrderCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Orders\\PlaceCustomerOrder\\PlaceCustomerOrderCommandHandler.cs:line 39\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:7810a8dd-d934-4f1f-b5d3-dbe319f742b1","CorrelationId":"f6c1420c-894f-4b66-8311-68e191b21594"}
{"@t":"2021-06-01T11:41:30.7348864Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:41:32.7781960Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"71eea651-ac21-4fc4-b2ae-8d45af92b28e","$type":"PlaceCustomerOrderCommand"},"Context":"Command:71eea651-ac21-4fc4-b2ae-8d45af92b28e","CorrelationId":"4b1bd203-2e86-4c7e-86e8-2aab6ebf8ec6"}
{"@t":"2021-06-01T11:41:36.8285330Z","@mt":"Command processing failed","@l":"Error","@x":"System.FormatException: Input string was not in a correct format.\r\n   at System.Number.ThrowOverflowOrFormatException(ParsingStatus status, TypeCode type)\r\n   at System.Single.Parse(String s)\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRatesFromExternalApi() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 49\r\n   at CQRS.Infrastructure.Domain.ForeignExchanges.ForeignExchange.GetConversionRates() in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Domain\\ForeignExchanges\\ForeignExchange.cs:line 30\r\n   at CQRS.Application.Orders.PlaceCustomerOrder.PlaceCustomerOrderCommandHandler.Handle(PlaceCustomerOrderCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Orders\\PlaceCustomerOrder\\PlaceCustomerOrderCommandHandler.cs:line 39\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:71eea651-ac21-4fc4-b2ae-8d45af92b28e","CorrelationId":"4b1bd203-2e86-4c7e-86e8-2aab6ebf8ec6"}
{"@t":"2021-06-01T11:41:49.5395034Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:41:52.8533279Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"fff3fa3d-4b3f-405e-95e7-45e38ffc6778","$type":"PlaceCustomerOrderCommand"},"Context":"Command:fff3fa3d-4b3f-405e-95e7-45e38ffc6778","CorrelationId":"63a7fd77-fad9-4b56-995e-6c71b19cdfa5"}
{"@t":"2021-06-01T11:42:53.0437148Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:42:56.6693254Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"f36d7cc3-8e69-40df-8c12-3593c5c67474","$type":"PlaceCustomerOrderCommand"},"Context":"Command:f36d7cc3-8e69-40df-8c12-3593c5c67474","CorrelationId":"e0c7312b-4b92-49a1-a4e4-af2d39a9cfea"}
{"@t":"2021-06-01T11:43:29.9882359Z","@mt":"Logger configured"}
{"@t":"2021-06-01T11:43:36.8769604Z","@mt":"Executing command {@Command}","Command":{"CustomerId":"ac8744f7-c9c1-458c-827f-9a7709372c88","Products":[{"Id":"e81b7af5-0e0d-4822-a3dd-0ea908d9d087","Quantity":3,"Name":null,"$type":"ProductDto"}],"Currency":"EUR","Id":"e8951332-b797-49b2-93d9-68b1df56b8cf","$type":"PlaceCustomerOrderCommand"},"Context":"Command:e8951332-b797-49b2-93d9-68b1df56b8cf","CorrelationId":"d9858b0d-c6ef-47b1-9d0f-5e44ba02af1d"}
{"@t":"2021-06-01T11:43:38.0006410Z","@mt":"Command processed successful, result {Result}","Result":"1569cd3f-ca64-4a20-927c-661df6b97969","Context":"Command:e8951332-b797-49b2-93d9-68b1df56b8cf","CorrelationId":"d9858b0d-c6ef-47b1-9d0f-5e44ba02af1d"}
{"@t":"2021-06-01T13:09:24.2837796Z","@mt":"Logger configured"}
{"@t":"2021-06-01T13:09:30.5902447Z","@mt":"Executing command {@Command}","Command":{"PaymentId":{"Value":"f81123f6-d118-4bc6-bf12-55af9ca10aea","$type":"PaymentId"},"Id":"86076972-fec3-465b-ae73-315d236bdc22","$type":"SendEmailAfterPaymentCommand"},"Context":"Command:86076972-fec3-465b-ae73-315d236bdc22"}
{"@t":"2021-06-01T13:09:31.3002814Z","@mt":"Executing command {@Command}","Command":{"Email":"vladimir.lyashko02@gmail.com","Name":"vlyashko02","Id":"d11f75c2-95c5-4e81-b212-1078583a9a63","$type":"RegisterCustomerCommand"},"Context":"Command:d11f75c2-95c5-4e81-b212-1078583a9a63","CorrelationId":"2aff5c4a-6867-4146-b454-5f0697dc1756"}
{"@t":"2021-06-01T13:09:31.7574499Z","@mt":"Command processed successful, result {Result}","Result":"CQRS.Application.Customers.CustomerDto","Context":"Command:d11f75c2-95c5-4e81-b212-1078583a9a63","CorrelationId":"2aff5c4a-6867-4146-b454-5f0697dc1756"}
{"@t":"2021-06-01T13:09:31.9431066Z","@mt":"Command processed successful, result {Result}","Result":"()","Context":"Command:86076972-fec3-465b-ae73-315d236bdc22"}
{"@t":"2021-06-01T13:10:00.0244626Z","@mt":"Executing command {@Command}","Command":{"CustomerId":{"Value":"f0f43f7a-d8ef-4c92-a59e-2e447d0b41e4","$type":"CustomerId"},"Id":"c11378f8-80b5-4882-b94a-fd04f4200685","$type":"MarkCustomerAsWelcomedCommand"},"Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:10:00.1183249Z","@mt":"Command processing failed","@l":"Error","@x":"System.NotSupportedException: The member Id of type CQRS.Domain.Customers.CustomerId cannot be used as a parameter value\r\n   at Dapper.SqlMapper.LookupDbType(Type type, String name, Boolean demand, ITypeHandler& handler) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 415\r\n   at Dapper.SqlMapper.CreateParamInfoGenerator(Identity identity, Boolean checkForDuplicates, Boolean removeUnused, IList`1 literals) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 2488\r\n   at Dapper.SqlMapper.GetCacheInfo(Identity identity, Object exampleParameters, Boolean addToCache) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 1709\r\n   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in C:\\projects\\dapper\\Dapper\\SqlMapper.Async.cs:line 474\r\n   at CQRS.Application.Customers.IntegrationHandlers.MarkCustomerAsWelcomedCommandHandler.Handle(MarkCustomerAsWelcomedCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Customers\\IntegrationHandlers\\MarkCustomerAsWelcomedCommandHandler.cs:line 36\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:10:15.0080116Z","@mt":"Executing command {@Command}","Command":{"CustomerId":{"Value":"f0f43f7a-d8ef-4c92-a59e-2e447d0b41e4","$type":"CustomerId"},"Id":"c11378f8-80b5-4882-b94a-fd04f4200685","$type":"MarkCustomerAsWelcomedCommand"},"Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:10:15.0223545Z","@mt":"Command processing failed","@l":"Error","@x":"System.NotSupportedException: The member Id of type CQRS.Domain.Customers.CustomerId cannot be used as a parameter value\r\n   at Dapper.SqlMapper.LookupDbType(Type type, String name, Boolean demand, ITypeHandler& handler) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 415\r\n   at Dapper.SqlMapper.CreateParamInfoGenerator(Identity identity, Boolean checkForDuplicates, Boolean removeUnused, IList`1 literals) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 2488\r\n   at Dapper.SqlMapper.GetCacheInfo(Identity identity, Object exampleParameters, Boolean addToCache) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 1709\r\n   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in C:\\projects\\dapper\\Dapper\\SqlMapper.Async.cs:line 474\r\n   at CQRS.Application.Customers.IntegrationHandlers.MarkCustomerAsWelcomedCommandHandler.Handle(MarkCustomerAsWelcomedCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Customers\\IntegrationHandlers\\MarkCustomerAsWelcomedCommandHandler.cs:line 36\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:10:30.0181294Z","@mt":"Executing command {@Command}","Command":{"CustomerId":{"Value":"f0f43f7a-d8ef-4c92-a59e-2e447d0b41e4","$type":"CustomerId"},"Id":"c11378f8-80b5-4882-b94a-fd04f4200685","$type":"MarkCustomerAsWelcomedCommand"},"Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:10:30.0280054Z","@mt":"Command processing failed","@l":"Error","@x":"System.NotSupportedException: The member Id of type CQRS.Domain.Customers.CustomerId cannot be used as a parameter value\r\n   at Dapper.SqlMapper.LookupDbType(Type type, String name, Boolean demand, ITypeHandler& handler) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 415\r\n   at Dapper.SqlMapper.CreateParamInfoGenerator(Identity identity, Boolean checkForDuplicates, Boolean removeUnused, IList`1 literals) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 2488\r\n   at Dapper.SqlMapper.GetCacheInfo(Identity identity, Object exampleParameters, Boolean addToCache) in C:\\projects\\dapper\\Dapper\\SqlMapper.cs:line 1709\r\n   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in C:\\projects\\dapper\\Dapper\\SqlMapper.Async.cs:line 474\r\n   at CQRS.Application.Customers.IntegrationHandlers.MarkCustomerAsWelcomedCommandHandler.Handle(MarkCustomerAsWelcomedCommand command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Application\\Customers\\IntegrationHandlers\\MarkCustomerAsWelcomedCommandHandler.cs:line 36\r\n   at CQRS.Infrastructure.Processing.UnitOfWorkCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Processing\\UnitOfWorkCommandHandlerWithResultDecorator.cs:line 31\r\n   at CQRS.Infrastructure.Logging.LoggingCommandHandlerWithResultDecorator`2.Handle(T command, CancellationToken cancellationToken) in C:\\Users\\user\\Desktop\\training\\CQRS\\CQRS.Infrastructure\\Logging\\LoggingCommandHandlerWithResultDecorator.cs:line 47","Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:10:56.6937268Z","@mt":"Logger configured"}
{"@t":"2021-06-01T13:11:00.4782454Z","@mt":"Executing command {@Command}","Command":{"CustomerId":{"Value":"f0f43f7a-d8ef-4c92-a59e-2e447d0b41e4","$type":"CustomerId"},"Id":"c11378f8-80b5-4882-b94a-fd04f4200685","$type":"MarkCustomerAsWelcomedCommand"},"Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:11:56.6946377Z","@mt":"Logger configured"}
{"@t":"2021-06-01T13:12:00.4705965Z","@mt":"Executing command {@Command}","Command":{"CustomerId":{"Value":"f0f43f7a-d8ef-4c92-a59e-2e447d0b41e4","$type":"CustomerId"},"Id":"c11378f8-80b5-4882-b94a-fd04f4200685","$type":"MarkCustomerAsWelcomedCommand"},"Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
{"@t":"2021-06-01T13:12:29.7258590Z","@mt":"Command processed successful, result {Result}","Result":"()","Context":"Command:c11378f8-80b5-4882-b94a-fd04f4200685"}
